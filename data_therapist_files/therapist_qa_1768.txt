I am sorry to hear that you are going through such a tough time. It sounds to me like you are suffering from depression to some degree. Have you seen a therapist or talked to anyone about your problems? If not, I would advise that you do so sooner than later so that you can learn what is causing you to be unmotivated and causing difficulty with breaking the cycle that you are in. It is also a good idea to get a medical evaluation from your doctor to rule out any medical causes for your current condition. Most often, difficult situations that life throws at us, along with an inability to think positively, and break bad habits are what cause depression. Some things you can do immediately are seek help from a professional, schedule in time every day to engage in pleasurable (or once pleasurable) activities, exercise daily, and practice thinking more positively. Set a few daily goals for yourself and write them down each morning or the night before. Achieving your goals every day will give you a sense of accomplishment and can lead to feeling more optimistic and capable. Additionally, keep a journal to write down how you are feeling and what ideas you have to help feel better. Sometimes having these ideas written down make it more real and tangible. Know that depression is most often curable but takes work and a desire to change (which you clearly have). Once you start feeling better about yourself and your life, your grades should naturally begin to improve, as you will have more motivation and energy to focus on that particular area. Best of luck to you!

